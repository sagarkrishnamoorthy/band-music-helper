# ============================================
# Band Music API Configuration
# ============================================

# ==== Core Application Settings ====
# Enable/disable debug mode (development only, disable in production)
DEBUG=False

# ==== Audio Synthesis Settings ====
# Path to FluidSynth soundfont file for MIDI to MP3 conversion
# Linux/macOS default: /usr/share/sounds/sf2/FluidR3_GM.sf2
# Windows: C:\Program Files\FluidSynth\sf2\FluidR3_GM.sf2
# Download alternative fonts from: https://github.com/musescore/MuseScore/tree/master/share/sound
FLUIDSYNTH_SOUNDFONT=/usr/share/sounds/sf2/FluidR3_GM.sf2

# ==== File Upload Configuration ====
# Maximum upload file size in MB (for sheet music images or audio files)
# Examples: 10 (10 MB), 100 (100 MB), 500 (500 MB)
MAX_UPLOAD_SIZE_MB=100

# Automatically cleanup uploaded and temporary files after processing
# Set to False to keep files for debugging (not recommended for production)
CLEANUP_FILES=True

# Maximum time (in seconds) to wait for a conversion job to complete
# Increase this for large files or slower systems
# OMR: 60-180 seconds typical
# AMT: 300-900 seconds typical (depends on audio length)
JOB_TIMEOUT_SECONDS=300

# ==== OMR (Optical Music Recognition) Settings ====
# HuggingFace model ID for sheet music recognition
# Default: BobvanHoed/oemer-small (fast, accurate for 1-2 staff scores)
# Alternative: BobvanHoed/oemer-base (slower, handles complex scores)
# Model location: https://huggingface.co/BobvanHoed/oemer-small
OEMER_MODEL_PATH=BobvanHoed/oemer-small

# ==== AMT (Automatic Music Transcription) Settings ====
# Onset detection threshold for Basic Pitch (0.0-1.0)
# Higher values = stricter onset detection (fewer false notes)
# Lower values = lenient onset detection (more notes detected)
# Recommended: 0.4-0.6 for most music
BASIC_PITCH_ONSET_THRESHOLD=0.5

# Frame-level prediction threshold (0.0-1.0)
# Controls confidence level for note predictions
# Higher values = only high-confidence notes
# Recommended: 0.2-0.4
BASIC_PITCH_FRAME_THRESHOLD=0.3

# Minimum MIDI duration (in milliseconds) for detected notes
# Notes shorter than this are filtered out
# Typical range: 64-256 milliseconds
BASIC_PITCH_MINIMUM_NOTE_LENGTH=127

# ==== MIDI/Music21 Settings ====
# Default MIDI program/instrument number (0-127)
# 0 = Acoustic Piano, 24 = Acoustic Guitar, 40 = Violin
# Full list: https://en.wikipedia.org/wiki/General_MIDI#Program_change_events
MUSIC21_MIDI_PROGRAM=0

# Default tempo in beats per minute (BPM)
# Typical range: 60-180 BPM
# Used when tempo cannot be detected from audio or sheet music
MUSIC21_TEMPO_BPM=120

# ==== LilyPond Settings (Sheet Music Rendering) ====
# Output format for LilyPond PDF generation
# Options: pdf (recommended), png, eps, svg
LILYPOND_FORMAT=pdf

# DPI resolution for output files (higher = better quality, slower processing)
# Typical values: 150 (draft), 300 (standard), 600 (high quality)
LILYPOND_RESOLUTION=300

# ==== Environment Selection ====
# Set environment type (controls logging, error handling, etc.)
# Options: development, production
ENVIRONMENT=development
